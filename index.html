<!DOCTYPE html>
<html>
<head>
  <title>Music Stock Market</title>
</head>
<body>
  <h1>Welcome to the Music Stock Market</h1>

  <!-- Display user credits -->
  <p>Your credits: <span id="credits">1000</span></p>

  <!-- Artist stock prices -->
  <h2>Artists</h2>
  <p>Ariana Grande: <span id="price-ariana">100</span> credits per share</p>
  <button onclick="buyArtist('Ariana Grande', 100)">Buy 100 credits of Ariana Grande</button>
  <button onclick="sellArtist('Ariana Grande', 100)">Sell 100 credits of Ariana Grande</button>

  <p>Drake: <span id="price-drake">100</span> credits per share</p>
  <button onclick="buyArtist('Drake', 100)">Buy 100 credits of Drake</button>
  <button onclick="sellArtist('Drake', 100)">Sell 100 credits of Drake</button>

  <!-- Display portfolio -->
  <h2>Your Portfolio</h2>
  <pre id="portfolio">{}</pre>

  <script>
    // Starting credits
    let credits = 1000;

    // Portfolio: investments per artist
    let portfolio = {
      "Ariana Grande": 0,
      "Drake": 0
    };

    // Stock prices (credits per share)
    let prices = {
      "Ariana Grande": 100,
      "Drake": 100
    };

    // Buy function
    function buyArtist(name, amount) {
      if (credits >= amount) {
        credits -= amount; // subtract from user credits
        portfolio[name] += amount; // add to artist investment
        updateDisplay();
      } else {
        alert("Not enough credits!");
      }
    }

    // Sell function
    function sellArtist(name, amount) {
      if (portfolio[name] >= amount) {
        credits += amount; // add credits back
        portfolio[name] -= amount; // subtract from artist investment
        updateDisplay();
      } else {
        alert("You don't have that much invested!");
      }
    }

    // Update displayed credits and portfolio
    function updateDisplay() {
      document.getElementById('credits').innerText = credits;

      // Calculate current portfolio value based on stock prices
      let displayPortfolio = {};
      for (let artist in portfolio) {
        let invested = portfolio[artist];
        let price = prices[artist];
        displayPortfolio[artist] = {
          invested: invested,
          value: invested * price / 100 // value relative to base price
        };
      }
      document.getElementById('portfolio').innerText = JSON.stringify(displayPortfolio, null, 2);
    }

    // Initial display
    updateDisplay();
  </script>
</body>
</html>
